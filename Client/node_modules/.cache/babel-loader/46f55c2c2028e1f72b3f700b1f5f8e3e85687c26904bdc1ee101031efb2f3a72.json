{"ast":null,"code":"import { ADD_FAV, FILTER, ORDER, REMOVE_FAV } from \"./action\";\nconst initialState = {\n  myFavorites: [],\n  allCharacters: []\n};\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    /*case ADD_FAV:\r\n       return {\r\n        ...state,\r\n        allCharacters: [...state.allCharacters, action.payload],\r\n        myFavorites: [...state.allCharacters, action.payload]\r\n      }; */\n    case ADD_FAV:\n      return {\n        ...state,\n        myFavorites: [...state.myFavorites, action.payload],\n        allCharacters: [...state.allCharacters, action.payload]\n      };\n    /* case REMOVE_FAV:\r\n    return {\r\n      ...state,\r\n      allCharacters: state.allCharacters.filter(el => el.id !== action.payload),\r\n      myFavorites: state.myFavorites.filter(el => el.id !== action.payload)\r\n    } */\n    case REMOVE_FAV:\n      return {\n        ...state,\n        myFavorites: state.myFavorites.map(el => el.id !== action.payload),\n        allCharacters: state.allCharacters.map(el => el.id !== action.payload)\n      };\n    case FILTER:\n      if (action.payload === 'def') {\n        return {\n          ...state,\n          myFavorites: [...state.allCharacters]\n        };\n      } else {\n        return {\n          ...state,\n          myFavorites: state.allCharacters.filter(el => el.gender === action.payload)\n        };\n      }\n    case ORDER:\n      const newCha = [...state.allCharacters];\n      if (action.payload === 'A') {\n        return {\n          ...state,\n          myFavorites: state.allCharacters.toSorted((a, b) => a.id - b.id)\n          /*\r\n          -----myFavorites: state.allCharacters.sort((a, b) => a.id - b.id)--- MALLL! MODIFICA EL ESTADO PORQUE NO DA UN\r\n          NUEVO ARRAY!\r\n           NO SE PUEDE USAR directamente el sort, o puedo usar el toSorted() xq me modificaEL STATE.ALLCHARACTER array, \r\n          en el filter de arriba se puede porque me da un nuevo array, el sort me modifica el \r\n          array del estado global. POR ESO NO LO USO DE UNA\r\n          SI LO QUIERE USAR DE UNA PODRÍA USAR UN toSorted();*/\n          /* myFavorites: newCha.sort((a, b) => a.id - b.id) */\n        };\n      } else {\n        return {\n          ...state,\n          myFavorites: newCha.sort((a, b) => b.id - a.id)\n        };\n      }\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default rootReducer;","map":{"version":3,"names":["ADD_FAV","FILTER","ORDER","REMOVE_FAV","initialState","myFavorites","allCharacters","rootReducer","state","arguments","length","undefined","action","type","payload","map","el","id","filter","gender","newCha","toSorted","a","b","sort"],"sources":["C:/Users/Popis/Documents/Henry/Pi/rick_and_morty/Client/src/redux/reducer.js"],"sourcesContent":["import { ADD_FAV, FILTER, ORDER, REMOVE_FAV } from \"./action\";\r\n\r\nconst initialState = {\r\n  myFavorites: [],\r\n  allCharacters: [],\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    /*case ADD_FAV:\r\n       return {\r\n        ...state,\r\n        allCharacters: [...state.allCharacters, action.payload],\r\n        myFavorites: [...state.allCharacters, action.payload]\r\n      }; */\r\n      case ADD_FAV:\r\n      return {\r\n        ...state, \r\n        myFavorites: [...state.myFavorites, action.payload],\r\n        allCharacters: [...state.allCharacters, action.payload]\r\n      };\r\n      /* case REMOVE_FAV:\r\n      return {\r\n        ...state,\r\n        allCharacters: state.allCharacters.filter(el => el.id !== action.payload),\r\n        myFavorites: state.myFavorites.filter(el => el.id !== action.payload)\r\n      } */\r\n      case REMOVE_FAV:\r\n      return { ...state,\r\n        myFavorites: state.myFavorites.map(el => el.id !== action.payload),\r\n        allCharacters: state.allCharacters.map(el => el.id !== action.payload)\r\n      };\r\n      case FILTER:\r\n        if(action.payload === 'def') {\r\n          return {\r\n            ...state,\r\n            myFavorites: [...state.allCharacters]\r\n          }\r\n        } else {\r\n          return {\r\n            ...state,\r\n            myFavorites: state.allCharacters.filter(el => el.gender === action.payload)\r\n          }\r\n        }\r\n      case ORDER:\r\n        const newCha = [...state.allCharacters];\r\n        if(action.payload === 'A') {\r\n          return {\r\n            ...state,\r\n             myFavorites: state.allCharacters.toSorted((a, b) => a.id - b.id)\r\n             /*\r\n             -----myFavorites: state.allCharacters.sort((a, b) => a.id - b.id)--- MALLL! MODIFICA EL ESTADO PORQUE NO DA UN\r\n             NUEVO ARRAY!\r\n\r\n            NO SE PUEDE USAR directamente el sort, o puedo usar el toSorted() xq me modificaEL STATE.ALLCHARACTER array, \r\n            en el filter de arriba se puede porque me da un nuevo array, el sort me modifica el \r\n            array del estado global. POR ESO NO LO USO DE UNA\r\n            SI LO QUIERE USAR DE UNA PODRÍA USAR UN toSorted();*/\r\n            /* myFavorites: newCha.sort((a, b) => a.id - b.id) */\r\n          }\r\n        } else {\r\n          return {\r\n            ...state,\r\n            myFavorites: newCha.sort((a, b) => b.id - a.id)\r\n          }\r\n        }\r\n      default:\r\n        return {\r\n          ...state\r\n        }\r\n  }\r\n};\r\n\r\nexport default rootReducer;"],"mappings":"AAAA,SAASA,OAAO,EAAEC,MAAM,EAAEC,KAAK,EAAEC,UAAU,QAAQ,UAAU;AAE7D,MAAMC,YAAY,GAAG;EACnBC,WAAW,EAAE,EAAE;EACfC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGL,YAAY;EAAA,IAAEQ,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC/C,QAAQC,MAAM,CAACC,IAAI;IACjB;AACJ;AACA;AACA;AACA;AACA;IACM,KAAKb,OAAO;MACZ,OAAO;QACL,GAAGQ,KAAK;QACRH,WAAW,EAAE,CAAC,GAAGG,KAAK,CAACH,WAAW,EAAEO,MAAM,CAACE,OAAO,CAAC;QACnDR,aAAa,EAAE,CAAC,GAAGE,KAAK,CAACF,aAAa,EAAEM,MAAM,CAACE,OAAO;MACxD,CAAC;IACD;AACN;AACA;AACA;AACA;AACA;IACM,KAAKX,UAAU;MACf,OAAO;QAAE,GAAGK,KAAK;QACfH,WAAW,EAAEG,KAAK,CAACH,WAAW,CAACU,GAAG,CAACC,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAAC;QAClER,aAAa,EAAEE,KAAK,CAACF,aAAa,CAACS,GAAG,CAACC,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO;MACvE,CAAC;IACD,KAAKb,MAAM;MACT,IAAGW,MAAM,CAACE,OAAO,KAAK,KAAK,EAAE;QAC3B,OAAO;UACL,GAAGN,KAAK;UACRH,WAAW,EAAE,CAAC,GAAGG,KAAK,CAACF,aAAa;QACtC,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGE,KAAK;UACRH,WAAW,EAAEG,KAAK,CAACF,aAAa,CAACY,MAAM,CAACF,EAAE,IAAIA,EAAE,CAACG,MAAM,KAAKP,MAAM,CAACE,OAAO;QAC5E,CAAC;MACH;IACF,KAAKZ,KAAK;MACR,MAAMkB,MAAM,GAAG,CAAC,GAAGZ,KAAK,CAACF,aAAa,CAAC;MACvC,IAAGM,MAAM,CAACE,OAAO,KAAK,GAAG,EAAE;QACzB,OAAO;UACL,GAAGN,KAAK;UACPH,WAAW,EAAEG,KAAK,CAACF,aAAa,CAACe,QAAQ,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACL,EAAE,GAAGM,CAAC,CAACN,EAAE;UAC/D;AACb;AACA;AACA;AACA;AACA;AACA;UAEY;QACF,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGT,KAAK;UACRH,WAAW,EAAEe,MAAM,CAACI,IAAI,CAAC,CAACF,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACN,EAAE,GAAGK,CAAC,CAACL,EAAE;QAChD,CAAC;MACH;IACF;MACE,OAAO;QACL,GAAGT;MACL,CAAC;EAAA;AAET,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}